# FlickSwiper

A feature-rich iOS app for tracking movies and TV shows you've watched, building a watchlist, and sharing recommendations with friends.

## Features

### Discover
- **Swipe Interface**: Tinder-style card swiping — right to mark as seen, left to skip, up to save to watchlist
- **Discovery Methods**: Top Rated, Popular, Trending, Now Playing, Upcoming
- **Streaming Services**: Browse by Netflix, Prime Video, Disney+, Max, Apple TV+, Hulu, Paramount+, Peacock, Tubi, Pluto TV, Crunchyroll — with real logos
- **Sort Options**: Sort streaming content by popularity, top rated, newest, oldest, or alphabetically
- **Filters**: Genre, year range, and content type (Movies / TV / All) via a combined filter sheet
- **Card Details**: Tap the info button for full overview, rating, and action buttons
- **Personal Rating**: Rate every title 1–5 stars immediately after swiping (or skip and rate later)

### Search
- **Instant Search**: Debounced search across all movies and TV shows via TMDB
- **Library Awareness**: Search results show checkmarks for titles already in your library and bookmarks for watchlisted items
- **Quick Add**: Mark as seen or save to watchlist directly from search results

### Library
- **Watchlist Section**: Horizontal scroll of saved-for-later titles with full grid view
- **Smart Collections**: Auto-generated by favorites, movies, TV shows, genres, platforms, and recently added
- **Custom Lists**: Create, rename, delete lists; add items individually or in bulk
- **Bulk Actions**: Edit mode with select all, bulk add to list, bulk delete/remove, and share
- **Filtered Browsing**: Contextual filter chips (rating, genre, type) that adapt to the current view
- **Share**: Generate shareable text lists from any collection, list, or selection

### Watchlist → Seen Flow
- Mark watchlist items as seen with a rating prompt when you finally watch them
- Items automatically move from watchlist to seen collections

## Requirements

- iOS 17.0+
- Xcode 15.0+
- TMDB API Key (free)

## Setup

1. **Get a TMDB API Key**
   - Create an account at [themoviedb.org](https://www.themoviedb.org/)
   - Go to Settings > API > Request an API Key
   - Copy your **API Read Access Token (v4 auth)**

2. **Configure Your API Key**
   - Copy `Config/Secrets.xcconfig.template` to `Config/Secrets.xcconfig`
   - Replace `YOUR_TOKEN_HERE` with your actual token:
   ```
   TMDB_API_TOKEN = your_actual_token_here
   ```
   - `Secrets.xcconfig` is gitignored and will not be committed

3. **Build and Run**
   - Open the project in Xcode
   - Select your target device or simulator
   - Press ⌘R to build and run

## Project Structure

```
FlickSwiper/
├── FlickSwiperApp.swift         # App entry point, URLCache config, ModelContainer
├── ContentView.swift            # Tab navigation (Discover, Search, Library, Settings)
├── Config/                      # Build configuration and API key management
├── Models/
│   ├── TMDBModels.swift         # TMDB API response types
│   ├── MediaItem.swift          # Unified media model
│   ├── SwipedItem.swift         # SwiftData — tracks swipes, ratings, genres, platform
│   ├── DiscoveryMethod.swift    # Discovery methods + streaming provider logos
│   ├── StreamingSortOption.swift # Sort options for streaming content
│   ├── Genre.swift              # Genre model for filtering
│   ├── UserList.swift           # Custom list model
│   ├── ListEntry.swift          # List membership (join model)
│   └── SchemaVersions.swift     # SwiftData versioned schema + migration plan
├── ViewModels/
│   ├── SwipeViewModel.swift     # Discovery feed, swipe logic, filtering, prefetch
│   └── SearchViewModel.swift    # Debounced search with TMDB
├── Views/
│   ├── SwipeView.swift          # Discover tab — card stack, rating prompt, watchlist
│   ├── MovieCardView.swift      # Swipeable card with gestures, info, bookmark
│   ├── DiscoverySelectorView.swift  # Method picker + content type chips + filter button
│   ├── DiscoverFiltersSheet.swift   # Combined sort, genre, year filter sheet
│   ├── DiscoverDetailView.swift     # Card detail with Seen/Skip/Save actions
│   ├── SearchView.swift         # Search tab — results, detail, mark as seen/watchlist
│   ├── FlickSwiperHomeView.swift    # Library tab — watchlist, collections, lists
│   ├── SmartCollectionsSection.swift # Auto-generated collection cards
│   ├── SmartCollectionCard.swift    # Gradient collection card
│   ├── MyListsSection.swift     # User lists horizontal scroll
│   ├── UserListCard.swift       # Gradient list card
│   ├── FilteredGridView.swift   # Reusable grid with filters, edit mode, share
│   ├── FilterChip.swift         # Reusable filter chip button
│   ├── WatchlistGridView.swift  # Full watchlist grid with actions
│   ├── WatchlistItemCard.swift  # Compact watchlist poster card
│   ├── WatchlistItemDetailView.swift  # Watchlist detail with mark-as-seen
│   ├── WatchlistRatingSheet.swift     # Post-watch rating prompt
│   ├── SeenListView.swift       # Seen item card + detail view components
│   ├── SelectableItemCard.swift # Card with selection state for bulk operations
│   ├── InlineRatingPrompt.swift # Post-swipe star rating UI
│   ├── BulkAddToListView.swift  # Full-screen selectable grid for list management
│   ├── AddToListSheet.swift     # Single-item list assignment
│   ├── AddSelectedToListSheet.swift  # Bulk selection list picker
│   ├── SettingsView.swift       # Statistics, reset, TMDB attribution, privacy
│   └── Pickers/                 # Discovery method, genre, year pickers
├── Services/
│   ├── TMDBService.swift        # TMDB API — discovery, search, rate limiting
│   └── MediaServiceProtocol.swift   # Service abstraction for testing
└── Utils/
    ├── Constants.swift          # Animation thresholds, app constants
    ├── Extensions.swift         # Helper extensions
    ├── GenreMap.swift           # TMDB genre ID → name/icon mapping
    ├── HapticManager.swift      # Haptic feedback patterns
    └── RetryAsyncImage.swift    # AsyncImage wrapper with retry on failure
```

## Tech Stack

- **SwiftUI** — All UI
- **SwiftData** — Persistence with versioned schema migration
- **TMDB API** — Movie/TV metadata, search, streaming providers
- **Async/Await** — Networking and concurrency
- **iOS 17+** — Minimum deployment target

## Privacy

All data is stored locally on device. No accounts, no analytics, no tracking. The app makes network requests to TMDB for movie/TV metadata only.

## License

MIT License
